{"version":3,"file":"js/522.02ad7c05.js","mappings":"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","sources":["webpack://frontend/./src/views/verify/login.vue","webpack://frontend/./src/views/verify/login.vue?8a8d"],"sourcesContent":["<template>\r\n  <n-form :model=\"form\" :rules=\"rules\" @keyup.enter=\"submit\">\r\n    <n-form-item-row label=\"邮箱账号\" path=\"username\">\r\n      <n-input clearable v-model:value=\"form.username\" type=\"email\" maxlength=\"64\" />\r\n    </n-form-item-row>\r\n    <n-form-item-row label=\"账号密码\" path=\"password\">\r\n      <n-input clearable v-model:value=\"form.password\" type=\"password\" show-password-on=\"click\" maxlength=\"24\"\r\n        :input-props=\"{ autocomplete:false }\" />\r\n    </n-form-item-row>\r\n    <n-form-item-row label=\"保持登录\">\r\n      <n-popover trigger=\"hover\">\r\n        <template #trigger>\r\n          <n-switch v-model:value=\"keep\" />\r\n        </template>\r\n        <n-text>选中可保持七天登录身份，多屏共享一个账号</n-text>\r\n      </n-popover>\r\n    </n-form-item-row>\r\n    <n-button type=\"primary\" @click=\"submit\" block>登录</n-button>\r\n    <n-form-item-row label=\"人机验证\" v-if=\"verify.count > 1\" path=\"verify\">\r\n      <n-slider v-model:value=\"verify.value\" :marks=\"verify.key\" range />\r\n    </n-form-item-row>\r\n  </n-form>\r\n</template>\r\n\r\n<script>\r\nimport axios from \"axios\";\r\nexport default {\r\n  data() {\r\n    // 先创建验证码的两个值，在需要验证时再校验\r\n    let verify = { value: [0, 0], key: {}, count: 0 };\r\n    return {\r\n      verify,\r\n      keep: false,\r\n      form: {\r\n        username: \"user@root.com\",\r\n        password: \"123456\",\r\n      },\r\n      rules: {\r\n        verify: {\r\n          required: true,\r\n          message: \"范围不正确\",\r\n          trigger: [\"input\", \"blur\"],\r\n          validator() {\r\n            return (\r\n              verify.value[0] in verify.key &&\r\n              verify.value[1] in verify.key &&\r\n              verify.value[0] != verify.value[1]\r\n            );\r\n          },\r\n        },\r\n        username: {\r\n          required: true,\r\n          message: \"邮箱格式不匹配\",\r\n          trigger: [\"input\", \"blur\"],\r\n          validator(_, val) {\r\n            return /^\\w{2,32}\\@\\w+\\.\\w+$/.test(val);\r\n          },\r\n        },\r\n        password: {\r\n          required: true,\r\n          message: \"6-24位任意字符\",\r\n          trigger: [\"input\", \"blur\"],\r\n          validator(_, val) {\r\n            return val.length > 5;\r\n          },\r\n        },\r\n      },\r\n    };\r\n  },\r\n  methods: {\r\n    submit() {\r\n      if (\r\n        // 验证正常登录\r\n        /^\\w{2,32}\\@\\w+\\.\\w+$/.test(this.form.username) &&\r\n        this.form.password.length > 5 &&\r\n        !(this.verify.count > 1)\r\n      ) {\r\n      } else if (\r\n        // 验证验证码登录\r\n        /^\\w{2,32}\\@\\w+\\.\\w+$/.test(this.form.username) &&\r\n        this.form.password.length > 5 &&\r\n        this.verify.value[0] in this.verify.key &&\r\n        this.verify.value[1] in this.verify.key &&\r\n        this.verify.value[0] != this.verify.value[1]\r\n      ) {\r\n      } else {\r\n        // 失败次数增加\r\n        this.verify.count++;\r\n        // 清空两个验证码\r\n        this.verify.key = {};\r\n        // 创建两个验证码\r\n        let key = Math.ceil(Math.random() * 100);\r\n        this.verify.key[key] = key;\r\n        key = Math.ceil(Math.random() * 100);\r\n        while (key in this.verify.key) {\r\n          key = Math.ceil(Math.random() * 100);\r\n        }\r\n        this.verify.key[key] = key;\r\n        return;\r\n      }\r\n      (this.keep ? localStorage : sessionStorage).token = true;\r\n      this.form.username = this.form.password = \"\";\r\n      this.$router.push(\"/\");\r\n    },\r\n  },\r\n};\r\n</script>","import { render } from \"./login.vue?vue&type=template&id=736baf99\"\nimport script from \"./login.vue?vue&type=script&lang=js\"\nexport * from \"./login.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"D:\\\\Approach\\\\WorkSpace\\\\frontend\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["model","form","rules","submit","label","path","clearable","value","username","type","maxlength","password","autocomplete","trigger","keep","block","verify","count","marks","key","range","data","required","message","validator","_","val","test","length","methods","this","Math","ceil","random","localStorage","sessionStorage","token","$router","push","__exports__","render"],"sourceRoot":""}