{"version":3,"file":"js/41.05b4bcfc.js","mappings":"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","sources":["webpack://frontend/./node_modules/@vicons/ionicons5/es/Contrast.js","webpack://frontend/./node_modules/@vicons/ionicons5/es/PersonCircle.js","webpack://frontend/./src/views/index.vue","webpack://frontend/./node_modules/@vicons/ionicons5/es/ListSharp.js","webpack://frontend/./src/views/index.vue?fb31"],"sourcesContent":["import { createVNode as _createVNode, openBlock as _openBlock, createBlock as _createBlock, defineComponent } from 'vue'\nconst _hoisted_1 = {\n  xmlns: 'http://www.w3.org/2000/svg',\n  'xmlns:xlink': 'http://www.w3.org/1999/xlink',\n  viewBox: '0 0 512 512'\n}\nconst _hoisted_2 = /*#__PURE__*/ _createVNode(\n  'path',\n  {\n    d: 'M256 32A224 224 0 0 0 97.61 414.39A224 224 0 1 0 414.39 97.61A222.53 222.53 0 0 0 256 32zM64 256c0-105.87 86.13-192 192-192v384c-105.87 0-192-86.13-192-192z',\n    fill: 'currentColor'\n  },\n  null,\n  -1\n  /* HOISTED */\n)\nexport default defineComponent({\n  name: 'Contrast',\n  render: function render(_ctx, _cache) {\n    return _openBlock(), _createBlock('svg', _hoisted_1, [_hoisted_2])\n  }\n})\n","import { createVNode as _createVNode, openBlock as _openBlock, createBlock as _createBlock, defineComponent } from 'vue'\nconst _hoisted_1 = {\n  xmlns: 'http://www.w3.org/2000/svg',\n  'xmlns:xlink': 'http://www.w3.org/1999/xlink',\n  viewBox: '0 0 512 512'\n}\nconst _hoisted_2 = /*#__PURE__*/ _createVNode(\n  'path',\n  {\n    d: 'M256 48C141.31 48 48 141.31 48 256s93.31 208 208 208s208-93.31 208-208S370.69 48 256 48zm-50.22 116.82C218.45 151.39 236.28 144 256 144s37.39 7.44 50.11 20.94c12.89 13.68 19.16 32.06 17.68 51.82C320.83 256 290.43 288 256 288s-64.89-32-67.79-71.25c-1.47-19.92 4.79-38.36 17.57-51.93zM256 432a175.49 175.49 0 0 1-126-53.22a122.91 122.91 0 0 1 35.14-33.44C190.63 329 222.89 320 256 320s65.37 9 90.83 25.34A122.87 122.87 0 0 1 382 378.78A175.45 175.45 0 0 1 256 432z',\n    fill: 'currentColor'\n  },\n  null,\n  -1\n  /* HOISTED */\n)\nexport default defineComponent({\n  name: 'PersonCircle',\n  render: function render(_ctx, _cache) {\n    return _openBlock(), _createBlock('svg', _hoisted_1, [_hoisted_2])\n  }\n})\n","<template>\r\n  <n-drawer v-model:show=\"active\" :width=\"270\" :placement=\"'left'\">\r\n    <n-drawer-content>\r\n      <!-- 菜单选项 -->\r\n      <n-menu :options=\"menuBar\" :default-value=\"$route.name\" @update:value=\"menuValue\" />\r\n      <!-- 菜单栏顶部 -->\r\n      <template #header>\r\n        <div id=\"menu_header\" @click=\"this.$router.push({ name: 'self' })\">\r\n          <n-space>\r\n            <!-- 头像 -->\r\n            <n-avatar></n-avatar>\r\n            <!-- 名称 -->\r\n            <n-ellipsis style=\"max-width: 160px; margin: 7px\" :tooltip=\"false\">\r\n              {{ $store.state.user.name }}\r\n            </n-ellipsis>\r\n          </n-space>\r\n        </div>\r\n      </template>\r\n      <!-- 菜单栏底部 -->\r\n      <template #footer>\r\n        <n-button block @click=\"signout\">登出</n-button>\r\n      </template>\r\n    </n-drawer-content>\r\n  </n-drawer>\r\n\r\n  <n-layout style=\"height: 100vh\" :native-scrollbar=\"false\">\r\n    <n-layout style=\"top: 0; z-index: 1000; position: sticky\">\r\n      <!-- 顶部横栏 -->\r\n      <n-layout-header bordered style=\"padding: 5px\">\r\n        <n-space justify=\"space-between\">\r\n          <!-- 菜单 -->\r\n          <n-button circle @click=\"active = true\">\r\n            <template #icon>\r\n              <n-icon>\r\n                <ListSharp />\r\n              </n-icon>\r\n            </template>\r\n          </n-button>\r\n          <!-- 主题切换 -->\r\n          <n-button circle @click=\"$store.commit('theme')\">\r\n            <template #icon>\r\n              <n-icon>\r\n                <Contrast />\r\n              </n-icon>\r\n            </template>\r\n          </n-button>\r\n        </n-space>\r\n      </n-layout-header>\r\n    </n-layout>\r\n\r\n    <!-- 保存状态 在调试情况下会导致热重载报错 -->\r\n    <!-- <router-view v-slot=\"{ Component }\">\r\n      <keep-alive include=\"index\">\r\n        <component :is=\"Component\" :key=\"$route.name\" />\r\n      </keep-alive>\r\n    </router-view> -->\r\n    <!-- 身份验证通过的状态下展示页面 -->\r\n    <div style=\"padding: 2vw\">\r\n      <router-view v-if=\"$store.state.user.id\"></router-view>\r\n      <!-- 增加等待 避免刷新时身份验证出错的同时还请求了其他资源 -->\r\n      <n-result v-else-if=\"!$store.state.user.id\" status=\"info\" title=\"请稍等\" description=\"正在验证用户身份\"></n-result>\r\n    </div>\r\n\r\n\r\n  </n-layout>\r\n</template>\r\n\r\n<script>\r\nimport axios from \"axios\";\r\nimport { useMessage, useLoadingBar } from \"naive-ui\";\r\nimport { PersonCircle, ListSharp, Contrast } from \"@vicons/ionicons5\";\r\n\r\n// 菜单栏\r\nconst menuBar = [\r\n  { label: \"首页\", key: \"home\" },\r\n  { label: \"搜索\", key: \"search\" },\r\n  { label: \"关于\", key: \"about\" },\r\n  {\r\n    label: \"用户\",\r\n    key: \"\",\r\n    children: [\r\n      { label: \"主页\", key:\"self\" },\r\n      { label: \"安全\", key: \"security\" },\r\n    ],\r\n  },\r\n];\r\n\r\nexport default {\r\n  data() {\r\n    // 携带身份令牌\r\n    axios.defaults.headers.common[\r\n      \"Authorization\"\r\n    ] = `Bearer ${sessionStorage[\"token\"] || localStorage[\"token\"]}`;\r\n    let msg = useMessage();\r\n    let ldb = useLoadingBar();\r\n    // 加载动效\r\n    let request = axios.interceptors.request.use((req) => {\r\n      ldb.start();\r\n      return req;\r\n    });\r\n    let response = axios.interceptors.response.use(\r\n      (req) => {\r\n        ldb.finish();\r\n        return req;\r\n      },\r\n      (err) => {\r\n        ldb.error();\r\n      }\r\n    );\r\n    // 验证用户\r\n    axios.get(\"/users/\").then((req) => {\r\n      this.$store.commit(\"self\", req.data);\r\n    }).catch(this.signout);\r\n    return {\r\n      menuBar,\r\n      request,\r\n      response,\r\n      active: false,\r\n    };\r\n  },\r\n  methods: {\r\n    menuValue(key) {\r\n      // 导航跳转路径\r\n      this.active = false;\r\n      this.$router.push({ name: key });\r\n    },\r\n    signout() {\r\n      // 清除所有数据并登出\r\n      localStorage.clear()\r\n      sessionStorage.clear();\r\n      this.$store.commit(\"clear_all\");\r\n      this.$router.push(\"/verify/login\");\r\n      document.querySelector(\"html\").style = \"\";\r\n    },\r\n  },\r\n  beforeUnmount() {\r\n    // 清除绑定的头部\r\n    axios.defaults.headers.common[\"Authorization\"] = null;\r\n    // 解除绑定的加载动效\r\n    axios.interceptors.request.eject(this.request);\r\n    axios.interceptors.response.eject(this.response);\r\n  },\r\n  // 注册组件\r\n  components: { PersonCircle, ListSharp, Contrast },\r\n};\r\n</script>\r\n\r\n\r\n<style scoped>\r\n#menu_header {\r\n  width: 222px;\r\n  cursor: pointer;\r\n}\r\n</style>","import { createVNode as _createVNode, openBlock as _openBlock, createBlock as _createBlock, defineComponent } from 'vue'\nconst _hoisted_1 = {\n  xmlns: 'http://www.w3.org/2000/svg',\n  'xmlns:xlink': 'http://www.w3.org/1999/xlink',\n  viewBox: '0 0 512 512'\n}\nconst _hoisted_2 = /*#__PURE__*/ _createVNode(\n  'path',\n  {\n    fill: 'none',\n    stroke: 'currentColor',\n    'stroke-linejoin': 'round',\n    'stroke-width': '48',\n    d: 'M144 144h320'\n  },\n  null,\n  -1\n  /* HOISTED */\n)\nconst _hoisted_3 = /*#__PURE__*/ _createVNode(\n  'path',\n  {\n    fill: 'none',\n    stroke: 'currentColor',\n    'stroke-linejoin': 'round',\n    'stroke-width': '48',\n    d: 'M144 256h320'\n  },\n  null,\n  -1\n  /* HOISTED */\n)\nconst _hoisted_4 = /*#__PURE__*/ _createVNode(\n  'path',\n  {\n    fill: 'none',\n    stroke: 'currentColor',\n    'stroke-linejoin': 'round',\n    'stroke-width': '48',\n    d: 'M144 368h320'\n  },\n  null,\n  -1\n  /* HOISTED */\n)\nconst _hoisted_5 = /*#__PURE__*/ _createVNode(\n  'path',\n  {\n    fill: 'none',\n    stroke: 'currentColor',\n    'stroke-linecap': 'square',\n    'stroke-linejoin': 'round',\n    'stroke-width': '32',\n    d: 'M64 128h32v32H64z'\n  },\n  null,\n  -1\n  /* HOISTED */\n)\nconst _hoisted_6 = /*#__PURE__*/ _createVNode(\n  'path',\n  {\n    fill: 'none',\n    stroke: 'currentColor',\n    'stroke-linecap': 'square',\n    'stroke-linejoin': 'round',\n    'stroke-width': '32',\n    d: 'M64 240h32v32H64z'\n  },\n  null,\n  -1\n  /* HOISTED */\n)\nconst _hoisted_7 = /*#__PURE__*/ _createVNode(\n  'path',\n  {\n    fill: 'none',\n    stroke: 'currentColor',\n    'stroke-linecap': 'square',\n    'stroke-linejoin': 'round',\n    'stroke-width': '32',\n    d: 'M64 352h32v32H64z'\n  },\n  null,\n  -1\n  /* HOISTED */\n)\nexport default defineComponent({\n  name: 'ListSharp',\n  render: function render(_ctx, _cache) {\n    return _openBlock(), _createBlock('svg', _hoisted_1, [_hoisted_2, _hoisted_3, _hoisted_4, _hoisted_5, _hoisted_6, _hoisted_7])\n  }\n})\n","import { render } from \"./index.vue?vue&type=template&id=454f247e&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\n\nimport \"./index.vue?vue&type=style&index=0&id=454f247e&scoped=true&lang=css\"\n\nimport exportComponent from \"D:\\\\Approach\\\\WorkSpace\\\\frontend\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-454f247e\"]])\n\nexport default __exports__"],"names":["_hoisted_1","xmlns","viewBox","_hoisted_2","d","fill","name","render","_ctx","_cache","style","show","active","width","placement","header","id","$router","push","tooltip","$store","state","user","footer","block","signout","options","menuBar","$route","menuValue","bordered","justify","circle","icon","commit","status","title","description","stroke","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","label","key","children","data","sessionStorage","localStorage","ldb","request","req","start","response","finish","err","error","then","this","catch","methods","clear","document","querySelector","beforeUnmount","components","PersonCircle","ListSharp","Contrast","__exports__"],"sourceRoot":""}