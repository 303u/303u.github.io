"use strict";(globalThis["webpackChunkfrontend"]=globalThis["webpackChunkfrontend"]||[]).push([[41],{3386:(e,t,n)=>{n.d(t,{Z:()=>s});var r=n(6252);const o={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},l=(0,r.Wm)("path",{d:"M256 32A224 224 0 0 0 97.61 414.39A224 224 0 1 0 414.39 97.61A222.53 222.53 0 0 0 256 32zM64 256c0-105.87 86.13-192 192-192v384c-105.87 0-192-86.13-192-192z",fill:"currentColor"},null,-1),s=(0,r.aZ)({name:"Contrast",render:function(e,t){return(0,r.wg)(),(0,r.j4)("svg",o,[l])}})},5248:(e,t,n)=>{n.d(t,{Z:()=>s});var r=n(6252);const o={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},l=(0,r.Wm)("path",{d:"M256 48C141.31 48 48 141.31 48 256s93.31 208 208 208s208-93.31 208-208S370.69 48 256 48zm-50.22 116.82C218.45 151.39 236.28 144 256 144s37.39 7.44 50.11 20.94c12.89 13.68 19.16 32.06 17.68 51.82C320.83 256 290.43 288 256 288s-64.89-32-67.79-71.25c-1.47-19.92 4.79-38.36 17.57-51.93zM256 432a175.49 175.49 0 0 1-126-53.22a122.91 122.91 0 0 1 35.14-33.44C190.63 329 222.89 320 256 320s65.37 9 90.83 25.34A122.87 122.87 0 0 1 382 378.78A175.45 175.45 0 0 1 256 432z",fill:"currentColor"},null,-1),s=(0,r.aZ)({name:"PersonCircle",render:function(e,t){return(0,r.wg)(),(0,r.j4)("svg",o,[l])}})},8041:(e,t,n)=>{n.r(t),n.d(t,{default:()=>j});var r=n(6252),o=n(3577);const l=(0,r.Uk)("登出"),s={style:{padding:"2vw"}};function a(e,t,n,a,i,u){const c=(0,r.up)("n-menu"),d=(0,r.up)("n-avatar"),h=(0,r.up)("n-ellipsis"),p=(0,r.up)("n-space"),w=(0,r.up)("n-button"),m=(0,r.up)("n-drawer-content"),k=(0,r.up)("n-drawer"),f=(0,r.up)("ListSharp"),v=(0,r.up)("n-icon"),g=(0,r.up)("Contrast"),W=(0,r.up)("n-layout-header"),C=(0,r.up)("n-layout"),y=(0,r.up)("router-view"),x=(0,r.up)("n-result");return(0,r.wg)(),(0,r.iD)(r.HY,null,[(0,r.Wm)(k,{show:i.active,"onUpdate:show":t[1]||(t[1]=e=>i.active=e),width:270,placement:"left"},{default:(0,r.w5)((()=>[(0,r.Wm)(m,null,{header:(0,r.w5)((()=>[(0,r._)("div",{id:"menu_header",onClick:t[0]||(t[0]=e=>this.$router.push({name:"self"}))},[(0,r.Wm)(p,null,{default:(0,r.w5)((()=>[(0,r.Wm)(d),(0,r.Wm)(h,{style:{"max-width":"160px",margin:"7px"},tooltip:!1},{default:(0,r.w5)((()=>[(0,r.Uk)((0,o.zw)(e.$store.state.user.name),1)])),_:1})])),_:1})])])),footer:(0,r.w5)((()=>[(0,r.Wm)(w,{block:"",onClick:u.signout},{default:(0,r.w5)((()=>[l])),_:1},8,["onClick"])])),default:(0,r.w5)((()=>[(0,r.Wm)(c,{options:i.menuBar,"default-value":e.$route.name,"onUpdate:value":u.menuValue},null,8,["options","default-value","onUpdate:value"])])),_:1})])),_:1},8,["show"]),(0,r.Wm)(C,{style:{height:"100vh"},"native-scrollbar":!1},{default:(0,r.w5)((()=>[(0,r.Wm)(C,{style:{top:"0","z-index":"1000",position:"sticky"}},{default:(0,r.w5)((()=>[(0,r.Wm)(W,{bordered:"",style:{padding:"5px"}},{default:(0,r.w5)((()=>[(0,r.Wm)(p,{justify:"space-between"},{default:(0,r.w5)((()=>[(0,r.Wm)(w,{circle:"",onClick:t[2]||(t[2]=e=>i.active=!0)},{icon:(0,r.w5)((()=>[(0,r.Wm)(v,null,{default:(0,r.w5)((()=>[(0,r.Wm)(f)])),_:1})])),_:1}),(0,r.Wm)(w,{circle:"",onClick:t[3]||(t[3]=t=>e.$store.commit("theme"))},{icon:(0,r.w5)((()=>[(0,r.Wm)(v,null,{default:(0,r.w5)((()=>[(0,r.Wm)(g)])),_:1})])),_:1})])),_:1})])),_:1})])),_:1}),(0,r._)("div",s,[e.$store.state.user.id?((0,r.wg)(),(0,r.j4)(y,{key:0})):e.$store.state.user.id?(0,r.kq)("",!0):((0,r.wg)(),(0,r.j4)(x,{key:1,status:"info",title:"请稍等",description:"正在验证用户身份"}))])])),_:1})],64)}var i=n(9669),u=n.n(i),c=n(3359),d=n(8725),h=n(5248);const p={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},w=(0,r.Wm)("path",{fill:"none",stroke:"currentColor","stroke-linejoin":"round","stroke-width":"48",d:"M144 144h320"},null,-1),m=(0,r.Wm)("path",{fill:"none",stroke:"currentColor","stroke-linejoin":"round","stroke-width":"48",d:"M144 256h320"},null,-1),k=(0,r.Wm)("path",{fill:"none",stroke:"currentColor","stroke-linejoin":"round","stroke-width":"48",d:"M144 368h320"},null,-1),f=(0,r.Wm)("path",{fill:"none",stroke:"currentColor","stroke-linecap":"square","stroke-linejoin":"round","stroke-width":"32",d:"M64 128h32v32H64z"},null,-1),v=(0,r.Wm)("path",{fill:"none",stroke:"currentColor","stroke-linecap":"square","stroke-linejoin":"round","stroke-width":"32",d:"M64 240h32v32H64z"},null,-1),g=(0,r.Wm)("path",{fill:"none",stroke:"currentColor","stroke-linecap":"square","stroke-linejoin":"round","stroke-width":"32",d:"M64 352h32v32H64z"},null,-1),W=(0,r.aZ)({name:"ListSharp",render:function(e,t){return(0,r.wg)(),(0,r.j4)("svg",p,[w,m,k,f,v,g])}});var C=n(3386);const y=[{label:"首页",key:"home"},{label:"搜索",key:"search"},{label:"关于",key:"about"},{label:"用户",key:"",children:[{label:"主页",key:"self"},{label:"安全",key:"security"}]}],x={data(){u().defaults.headers.common.Authorization=`Bearer ${sessionStorage["token"]||localStorage["token"]}`;(0,c.U)();let e=(0,d.K)(),t=u().interceptors.request.use((t=>(e.start(),t))),n=u().interceptors.response.use((t=>(e.finish(),t)),(t=>{e.error()}));return u().get("/users/").then((e=>{this.$store.commit("self",e.data)})).catch(this.signout),{menuBar:y,request:t,response:n,active:!1}},methods:{menuValue(e){this.active=!1,this.$router.push({name:e})},signout(){localStorage.clear(),sessionStorage.clear(),this.$store.commit("clear_all"),this.$router.push("/verify/login"),document.querySelector("html").style=""}},beforeUnmount(){u().defaults.headers.common.Authorization=null,u().interceptors.request.eject(this.request),u().interceptors.response.eject(this.response)},components:{PersonCircle:h.Z,ListSharp:W,Contrast:C.Z}};var _=n(3744);const b=(0,_.Z)(x,[["render",a],["__scopeId","data-v-454f247e"]]),j=b}}]);
//# sourceMappingURL=41.05b4bcfc.js.map